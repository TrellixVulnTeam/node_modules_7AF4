import React from 'react';
import Toggle from '../toggle';
import { render, fireEvent, cleanup } from '@testing-library/react';
import '@testing-library/jest-dom';

afterEach(cleanup);

it('renders correctly', async () => {
    const { getByTestId } = render(
        <Toggle 
            testId="toggle"
            checked={false} 
            disabledSwitch={false}
            onText='ON'
            offText='OFF'
            onValueChange={(value) => console.log(value)}>
        </Toggle>,
    );

    const container = getByTestId('toggle');

    const toggleSwitch = getByTestId('toggleSwitch');

    expect(container).toHaveClass('met-switch');

    await fireEvent.click(toggleSwitch);

    expect(global.console.log).toHaveBeenCalledWith(true);
});
