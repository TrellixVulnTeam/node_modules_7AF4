import React from "react";
import SubHeader from "../subheader";
import { render, fireEvent, cleanup } from "@testing-library/react";
import "@testing-library/jest-dom";
import { it, afterEach, expect } from "@jest/globals";

afterEach(cleanup);

it("renders correctly", async () => {
  const { getByTestId } = render(
    <SubHeader
      testID= "subheader"
      className= "sample__header"
      title= "Subheader"
      navigate= {() => {console.log('testConsoleSubheader')}}
    />
  );
  const subheader = getByTestId('subheader');

  const backIcon = getByTestId('backIcon')

  expect(subheader).toHaveClass("sample__header");

  await fireEvent.click(backIcon);

  expect(global.console.log).toHaveBeenCalledWith("testConsoleSubheader");
});
