import React from "react";
import Icon from "../icon";
import { render, fireEvent, cleanup } from "@testing-library/react";
import "@testing-library/jest-dom";
import { it, afterEach, expect } from "@jest/globals";

afterEach(cleanup);

it("renders correctly", async () => {
  const { getByTestId } = render(
    <Icon
      className="testClassName"
      name="arrow-down"
      onClick={() => console.log("testConsole")}
    />
  );
  const icon = getByTestId("icon-img");

  expect(icon).toHaveClass("testClassName");

  await fireEvent.click(icon);

  expect(global.console.log).toHaveBeenCalledWith("testConsole");
});
