import React from 'react';
import Checkbox from '../checkbox';
import { render, fireEvent, cleanup } from '@testing-library/react';
import '@testing-library/jest-dom';

afterEach(cleanup);

it('renders correctly', async () => {
    const { getByTestId } = render(
        <Checkbox
            label='testLabel'
            value={false}
            className='testClassName'
            onCheck={() => console.log('testConsole')}
        />,
    );
    const container = getByTestId('checkbox');
    const box = getByTestId('checkbox-box');
    const label = getByTestId('checkbox-label');

    expect(label.textContent).toBe('testLabel');
    expect(container).toHaveClass('met-checkbox', 'testClassName');

    await fireEvent.click(container);

    expect(global.console.log).toHaveBeenCalledWith('testConsole');
    expect(box).toHaveClass('met-checkbox__box--checked');
});
