import React from "react";
import RadioButton from "../radiobutton";
import { render, fireEvent, cleanup } from "@testing-library/react";
import "@testing-library/jest-dom";
import { expect, it, afterEach } from "@jest/globals";

afterEach(cleanup);

it("renders correctly", async () => {
  const { getByTestId } = render(
    <RadioButton
      label={"Sample"}
      onValueChange={(value) => console.log(value)}
    ></RadioButton>
  );

  const container = getByTestId("radiobutton");
  const radioClick = getByTestId("radiobuttoncheck");

  expect(container).toHaveClass("met-radio");

  await fireEvent.click(radioClick);

  expect(global.console.log).toHaveBeenCalledWith("Sample");
});
