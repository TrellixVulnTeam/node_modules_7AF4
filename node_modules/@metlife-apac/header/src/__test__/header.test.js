import React from "react";
import Header from "../header";
import { render, fireEvent, cleanup } from "@testing-library/react";
import "@testing-library/jest-dom";
import { it, afterEach, expect } from "@jest/globals";

afterEach(cleanup);

it("renders correctly", async () => {
  const { getByTestId } = render(
    <Header
      testID= "header"
      className= "header"
      onExpand= {() => {console.log('testConsoleHamburgerheader')}}
      onHeaderClick= {() => {console.log('testConsoleHeader')}}
    />
  );
  const header = getByTestId('header');

  const HamburgerIcon = getByTestId('hamburger');

  const logo = getByTestId('logo');

  expect(header).toHaveClass("header");

  await fireEvent.click(HamburgerIcon);

  expect(global.console.log).toHaveBeenCalledWith("testConsoleHamburgerheader");

  await fireEvent.click(logo);

  expect(global.console.log).toHaveBeenCalledWith("testConsoleHeader");
});
